{% extends 'AnketaBundle:Response:layout.html.twig' %}

{% block navigation %}

{% endblock %}
{% block content %}
<h1>Moje odpovede</h1>
<p>Tu sa nachádza zoznam odpovedí, ktorých ste autormi. Pridať odpoveď môžete
z príslušnej stránky výsledkov
{%- if is_granted('ROLE_TEACHER') -%}
, kde sa nachádza aj <a href="{{ path('statistics_mySubjects', {'season_slug': season.slug}) }}">zoznam Vašich predmetov</a>
{%- endif %}.
</p>
<div class="results-comments results-comments-official">
{% if responses|length == 0 %}
<p>Zatiaľ ste nepridali žiadnu odpoveď</p>
{% endif %}
{% for response in responses %}
    <div class='comment' id="odpoved{{ response.id }}">
        <div class="comment-top">
        <b><a href="{{ path('results_subject', {'season_slug': season.slug, 'subject_code': response.subject.code}) }}">{{ response.subject.name }}</a>
            {%- if response.teacher is not null %} ➙ <a href="{{ path('results_subject_teacher', {'season_slug': season.slug,
                'subject_code': response.subject.code, 'teacher_id': response.teacher.id}) }}">{{response.teacher.displayName}}</a>{% endif %}</b>:
        </div>
        <p class="comment-comment">{{ response.comment|escape|replace({"\n": "<br />"})|raw }}</p>
        <div>
            <a href="{{ path('response_edit', {'response_id': response.id}) }}">Uprav odpoveď</a>
            <a href="{{ path('response_delete', {'response_id': response.id}) }}">Zmaž odpoveď</a>
        </div>
    </div>
{% endfor %}
</div>
{% endblock %}
