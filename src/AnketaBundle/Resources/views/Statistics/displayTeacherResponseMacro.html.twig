{% macro displayResponse(responses, editable, newResponseLink) %}
{# TODO: tento velky if je hack, kontrolu, kto moze vidiet komentare ucitelov chceme spravit
         cez fazy (ktore este ale nie su implementovane) #}
{% if is_granted('ROLE_TEACHER') %}
    {% if editable or responses is not empty %}
        <div class="results-comments results-comments-official">
        <h2>Oficiálne vyjadrenie k odpovediam:</h2>
        {% for item in responses %}
            <div class='comment' id="odpoved{{ item.response.id }}">
            <div class="comment-top">
            <b>{{ item.author }}</b>:
            </div>
            <p class="comment-comment">{{ item.response.comment|escape|replace({"\n": "<br />"})|raw }}</p>
            {% if item.editable %}
            <div>
                <a href="{{ path('response_edit', {'response_id': item.response.id}) }}">Uprav odpoveď</a>
                <a href="{{ path('response_delete', {'response_id': item.response.id}) }}">Zmaž odpoveď</a>
            </div>
            {% endif %}
            </div>
        {% endfor %}
        {% if editable %}
            <div>
                <a href="{{ newResponseLink }}">Nová odpoveď</a>
            </div>
        {% endif %}
        </div>
    {% endif %}
{% endif %}
{% endmacro %}
